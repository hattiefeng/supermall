{"remainingRequest":"/Users/liuyukuai/workspace/hattie/supermall/node_modules/thread-loader/dist/cjs.js!/Users/liuyukuai/workspace/hattie/supermall/node_modules/babel-loader/lib/index.js!/Users/liuyukuai/workspace/hattie/supermall/src/store/actions.js","dependencies":[{"path":"/Users/liuyukuai/workspace/hattie/supermall/src/store/actions.js","mtime":1615808740436},{"path":"/Users/liuyukuai/workspace/hattie/supermall/node_modules/cache-loader/dist/cjs.js","mtime":1604412173705},{"path":"/Users/liuyukuai/workspace/hattie/supermall/node_modules/thread-loader/dist/cjs.js","mtime":1604412176054},{"path":"/Users/liuyukuai/workspace/hattie/supermall/node_modules/babel-loader/lib/index.js","mtime":1604412173488}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgeyBBRERfQ09VTlRFUiwgQUREX1RPX0NBUlQgfSBmcm9tICcuL211dGF0aW9ucy10eXBlcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBhZGRDYXJ0OiBmdW5jdGlvbiBhZGRDYXJ0KGNvbnRleHQsIHBheWxvYWQpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBvbGRQcm9kdWN0ID0gY29udGV4dC5zdGF0ZS5jYXJ0TGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWlkID09PSBwYXlsb2FkLmlpZDsKICAgICAgfSk7CgogICAgICBpZiAob2xkUHJvZHVjdCkgewogICAgICAgIGNvbnRleHQuY29tbWl0KEFERF9DT1VOVEVSLCBvbGRQcm9kdWN0KTsKICAgICAgICByZXNvbHZlKCflvZPliY3llYblk4HmlbDph48rMScpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnRleHQuY29tbWl0KEFERF9UT19DQVJULCBwYXlsb2FkKTsKICAgICAgICByZXNvbHZlKCfmlrDmt7vliqDkuIDkuKrllYblk4EnKTsKICAgICAgfQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/liuyukuai/workspace/hattie/supermall/src/store/actions.js"],"names":["ADD_COUNTER","ADD_TO_CART","addCart","context","payload","Promise","resolve","reject","oldProduct","state","cartList","find","item","iid","commit"],"mappings":";;AAAA,SACIA,WADJ,EAEIC,WAFJ,QAGO,mBAHP;AAKA,eAAe;AACXC,EAAAA,OADW,mBACHC,OADG,EACMC,OADN,EACe;AACtB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,UAAIC,UAAU,GAAGL,OAAO,CAACM,KAAR,CAAcC,QAAd,CAAuBC,IAAvB,CAA4B,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,GAAL,KAAaT,OAAO,CAACS,GAAzB;AAAA,OAAhC,CAAjB;;AACA,UAAIL,UAAJ,EAAgB;AACZL,QAAAA,OAAO,CAACW,MAAR,CAAed,WAAf,EAA4BQ,UAA5B;AACAF,QAAAA,OAAO,CAAC,UAAD,CAAP;AACH,OAHD,MAGO;AACHH,QAAAA,OAAO,CAACW,MAAR,CAAeb,WAAf,EAA4BG,OAA5B;AACAE,QAAAA,OAAO,CAAC,SAAD,CAAP;AACH;AACJ,KATM,CAAP;AAUH;AAZU,CAAf","sourcesContent":["import {\n    ADD_COUNTER,\n    ADD_TO_CART\n} from './mutations-types'\n\nexport default {\n    addCart(context, payload) {\n        return new Promise((resolve, reject) => {\n            let oldProduct = context.state.cartList.find(item => item.iid === payload.iid);\n            if (oldProduct) {\n                context.commit(ADD_COUNTER, oldProduct);\n                resolve('当前商品数量+1')\n            } else {\n                context.commit(ADD_TO_CART, payload);\n                resolve('新添加一个商品')\n            }\n        })\n    }\n}"]}]}