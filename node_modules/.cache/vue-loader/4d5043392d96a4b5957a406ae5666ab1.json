{"remainingRequest":"/Users/Hattie/Desktop/vue/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Hattie/Desktop/vue/supermall/src/views/cart/childComps/CartBottomBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Hattie/Desktop/vue/supermall/src/views/cart/childComps/CartBottomBar.vue","mtime":1615881212479},{"path":"/Users/Hattie/Desktop/vue/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Hattie/Desktop/vue/supermall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Hattie/Desktop/vue/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Hattie/Desktop/vue/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDaGVja0J1dHRvbiBmcm9tICdjb21wb25lbnRzL2NvbnRlbnQvY2hlY2tCdXR0b24vQ2hlY2tCdXR0b24udnVlJwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCcKCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNhcnRCb3R0b21CYXIiLAogIGNvbXBvbmVudHM6ewogICAgQ2hlY2tCdXR0b24KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsnY2FydExpc3QnXSksCgogICAgdG90YWxQcmljY2UoKXsKICAgICAgcmV0dXJuICfCpScgKyB0aGlzLmNhcnRMaXN0LmZpbHRlcihpdGVtID0+IGl0ZW0uY2hlY2tlZCkucmVkdWNlKChwcmVWYWx1ZSwgaXRlbSkgPT4gewogICAgICAgIHJldHVybiBwcmVWYWx1ZSArIGl0ZW0ucHJpY2UgKiBpdGVtLmNvdW50CiAgICAgIH0sIDApLnRvRml4ZWQoMikKICAgIH0sCiAgICBjaGVja0xlbmd0aCgpewogICAgICByZXR1cm4gdGhpcy5jYXJ0TGlzdC5maWx0ZXIoaXRlbSA9PiBpdGVtLmNoZWNrZWQpLmxlbmd0aAogICAgfSwKICAgIGNoZWNrQWxsKCl7CiAgICAgIGlmKHRoaXMuY2FydExpc3QubGVuZ3RoID09PSAwKXsKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgICAvLyByZXR1cm4gdGhpcy5jYXJ0TGlzdC5maWx0ZXIoaXRlbSA9PiBpdGVtLmNoZWNrZWQpLmxlbmd0aCA9PT0gdGhpcy5jYXJ0TGlzdC5sZW5ndGgKCiAgICAgIC8v5om+5Yiw5LiA5Liq5pyq6YCJ5Lit55qECiAgICAgIHJldHVybiAhdGhpcy5jYXJ0TGlzdC5maW5kKGl0ZW0gPT4gIWl0ZW0uY2hlY2tlZCkKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8v54K55Ye75YWo6YCJ5oyJ6ZKuCiAgICBjbGlja0NoZWNrKCl7CiAgICAgIC8v5pWw57uE6YGN5Y6G6L+H56iL5LitLOWBmuS6huS/ruaUueaTjeS9nCzpnIDopoHliIblvIDlhpkKICAgICAgaWYodGhpcy5jaGVja0FsbCl7IC8v5YWo6YOo6YCJ5LitCiAgICAgICAgdGhpcy5jYXJ0TGlzdC5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jaGVja2VkID0gZmFsc2UpOwogICAgICB9ZWxzZXsgLy/pg6jliIbpgInkuK3miJblhajkuI3pgInkuK0KICAgICAgICB0aGlzLmNhcnRMaXN0LmZvckVhY2goaXRlbSA9PiBpdGVtLmNoZWNrZWQgPSB0cnVlKTsKICAgICAgfQogICAgfSwKICAgIC8v54K55Ye75Y676K6h566XCiAgICBjYWxjQ2xpY2soKXsKICAgICAgaWYoIXRoaXMuY2hlY2tBbGwpewogICAgICAgIHRoaXMuJHRvYXN0LnNob3coIuivt+mAieaLqee7k+eul+WVhuWTgSIsMzAwMCk7CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["CartBottomBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CartBottomBar.vue","sourceRoot":"src/views/cart/childComps","sourcesContent":["<template>\n  <div class=\"cart-bottom\">\n    <div class=\"check-content\">\n      <check-button class=\"check-button\" :isChecked=\"checkAll\" @click.native=\"clickCheck\"/>\n      <span>全选</span>\n    </div>\n    <div class=\"price\">\n      合计:  {{totalPricce}}\n    </div>\n    <div class=\"calculate\" @click=\"calcClick\">去计算({{checkLength}})</div>\n  </div>\n</template>\n\n<script>\nimport CheckButton from 'components/content/checkButton/CheckButton.vue'\nimport { mapGetters } from 'vuex'\n\n\nexport default {\n  name: \"CartBottomBar\",\n  components:{\n    CheckButton\n  },\n  computed: {\n    ...mapGetters(['cartList']),\n\n    totalPricce(){\n      return '¥' + this.cartList.filter(item => item.checked).reduce((preValue, item) => {\n        return preValue + item.price * item.count\n      }, 0).toFixed(2)\n    },\n    checkLength(){\n      return this.cartList.filter(item => item.checked).length\n    },\n    checkAll(){\n      if(this.cartList.length === 0){\n        return false\n      }\n      // return this.cartList.filter(item => item.checked).length === this.cartList.length\n\n      //找到一个未选中的\n      return !this.cartList.find(item => !item.checked)\n    }\n  },\n  methods: {\n    //点击全选按钮\n    clickCheck(){\n      //数组遍历过程中,做了修改操作,需要分开写\n      if(this.checkAll){ //全部选中\n        this.cartList.forEach(item => item.checked = false);\n      }else{ //部分选中或全不选中\n        this.cartList.forEach(item => item.checked = true);\n      }\n    },\n    //点击去计算\n    calcClick(){\n      if(!this.checkAll){\n        this.$toast.show(\"请选择结算商品\",3000);\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .cart-bottom {\n    position: relative;\n    display: flex;\n    font-size: 14px;\n    height: 40px;\n    line-height: 40px;\n    background-color:#eee;\n  }\n\n  .check-content {\n    display: flex;\n    \n    align-items: center;\n    width: 80px;\n  }\n\n  .check-button {\n    width: 20px;\n    height: 20px;\n    line-height: 20px;\n    margin-left: 10px;\n    margin-right: 5px;\n  }\n\n  .price {\n    margin-left: 30px;\n\n    flex: 1;\n  }\n\n  .calculate {\n    width: 90px;\n    text-align: center;\n    background-color: red;\n    color: #fff;\n  }\n</style>"]}]}