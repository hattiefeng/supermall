{"remainingRequest":"/Users/liuyukuai/workspace/hattie/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuyukuai/workspace/hattie/supermall/src/views/detail/childComps/DetailGoodsInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuyukuai/workspace/hattie/supermall/src/views/detail/childComps/DetailGoodsInfo.vue","mtime":1614689718991},{"path":"/Users/liuyukuai/workspace/hattie/supermall/node_modules/cache-loader/dist/cjs.js","mtime":1604412173705},{"path":"/Users/liuyukuai/workspace/hattie/supermall/node_modules/babel-loader/lib/index.js","mtime":1604412173488},{"path":"/Users/liuyukuai/workspace/hattie/supermall/node_modules/cache-loader/dist/cjs.js","mtime":1604412173705},{"path":"/Users/liuyukuai/workspace/hattie/supermall/node_modules/vue-loader/lib/index.js","mtime":1604412176226}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGV0YWlsR29vZHNJbmZvIiwKICBwcm9wczp7CiAgICBkZXRhaWxJbmZvOnsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9CiAgfSwKICBkYXRhKCl7CiAgICByZXR1cm4gewogICAgICBjb3VudGVyOiAwLAogICAgICBpbWdMZW5ndGg6IDAKICAgIH0KICB9LAogIG1ldGhvZHM6ewogICAgLy9pbWdMb2FkIOW+queOr+WKoOi9veWbvueJhyDmr4/liqDovb3kuIDlvKAsaW1nTG9hZCgp5pa55rOV6LCD55So5LiA5qyhCiAgICBpbWdMb2FkKCl7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJpbWFnZUxvYWQxIik7CiAgICAgIC8vIHRoaXMuY291bnRlcue0r+iuoSDlm77niYfliqDovb3lvKDmlbAg5b2T57Sv6K6h5byg5pWw562J5LqO5oC75byg5pWw5pe2LOiwg+eUqGJldHRlci1zY3JvbGznmoRyZWZyZXNoCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuaW1nTGVuZ3RoKTsKICAgICAgaWYoKyt0aGlzLmNvdW50ZXIgPT09IHRoaXMuaW1nTGVuZ3RoKXsKICAgICAgICAKICAgICAgICAvLyBjb25zb2xlLmxvZygiaW1hZ2VMb2FkMiIpOwogICAgICAgIHRoaXMuJGVtaXQoImltYWdlTG9hZCIpOwogICAgICB9CiAgICB9CiAgfSwKICAvLyB3YXRjaOebkeWQrGRldGFpbEluZm/lsZ7mgKfnmoTlj5jljJYKICB3YXRjaDp7CiAgICAvL+i/meenjeaWueW8j+ebkeWQrOS4jeWIsAogIC8vICAgZGV0YWlsSW5mbygpewogIC8vICAgICAvL+iOt+WPluWbvueJh+S4quaVsAogIC8vICAgICB0aGlzLmltZ0xlbmd0aCA9IDA7CiAgLy8gICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmRldGFpbEluZm8uZGV0YWlsSW1hZ2UubGVuZ3RoOyBpKyspewogIC8vICAgICAgIHRoaXMuaW1nTGVuZ3RoICs9IHRoaXMuZGV0YWlsSW5mby5kZXRhaWxJbWFnZVtpXS5saXN0Lmxlbmd0aDsKICAvLyAgICAgfQogIC8vIH0KCiAgICAvLyBkZXRhaWxJbmZvKCkgewogICAgLy8gICBjb25zb2xlLmxvZygid2F0Y2giKTsKCSAgLy8gICAgIC8vIOiOt+WPluWbvueJh+eahOS4quaVsAogICAgLy8gICAgIHRoaXMuaW1nTGVuZ3RoID0gdGhpcy5kZXRhaWxJbmZvLmRldGFpbEltYWdlWzBdLmxpc3QubGVuZ3RoCiAgICAvLyAgICAgY29uc29sZS5sb2codGhpcy5pbWdMZW5ndGgpOwogICAgLy8gICAgIGltbWVkaWF0ZT10cnVlCiAgICAgICAgCiAgICAvLyB9LAogICAgJ2RldGFpbEluZm8nOiB7CiAgICAgIGhhbmRsZXIobmV3dmFsLCBvbGQpIHsKICAgICAgLy8gIHRoaXMuaW1nTGVuZ3RoID0gdGhpcy5kZXRhaWxJbmZvLmRldGFpbEltYWdlWzBdLmxpc3QubGVuZ3RoCiAgICAgICAgdGhpcy5pbWdMZW5ndGggPSAwOwogICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmRldGFpbEluZm8uZGV0YWlsSW1hZ2UubGVuZ3RoOyBpKyspewogICAgICAgICAgdGhpcy5pbWdMZW5ndGggKz0gdGhpcy5kZXRhaWxJbmZvLmRldGFpbEltYWdlW2ldLmxpc3QubGVuZ3RoOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICAvLyBkZWVwOiB0cnVlCiAgICB9CgogIH0KfQo="},{"version":3,"sources":["DetailGoodsInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"DetailGoodsInfo.vue","sourceRoot":"src/views/detail/childComps","sourcesContent":["<template>\n  <div class=\"goods-info\">\n    <div class=\"info-desc clear-fix\">\n      <div class=\"start\"></div>\n      <div class=\"desc\">{{detailInfo.desc}}</div>\n      <div class=\"end\"></div>\n    </div>\n    \n    <div class=\"info-key\">{{detailInfo.detailImage[0].key}}</div>\n    <div class=\"info-list\">\n      <div v-for=\"(detailImages, index) in detailInfo.detailImage\" :key=\"index\">\n        <img v-for=\"(item, index2) in detailImages.list\" :key=\"index2\" :src=\"item\" @load=\"imgLoad\" alt=\"\">\n      </div>\n    </div>\n        <!-- <div class=\"info-list\">\n      <img v-for=\"(item, index) in detailInfo.detailImage[0].list\" :key=\"index\" :src=\"item\" @load=\"imgLoad\" alt=\"\">\n    </div> -->\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"DetailGoodsInfo\",\n  props:{\n    detailInfo:{\n      type: Object\n    }\n  },\n  data(){\n    return {\n      counter: 0,\n      imgLength: 0\n    }\n  },\n  methods:{\n    //imgLoad 循环加载图片 每加载一张,imgLoad()方法调用一次\n    imgLoad(){\n      // console.log(\"imageLoad1\");\n      // this.counter累计 图片加载张数 当累计张数等于总张数时,调用better-scroll的refresh\n      // console.log(this.imgLength);\n      if(++this.counter === this.imgLength){\n        \n        // console.log(\"imageLoad2\");\n        this.$emit(\"imageLoad\");\n      }\n    }\n  },\n  // watch监听detailInfo属性的变化\n  watch:{\n    //这种方式监听不到\n  //   detailInfo(){\n  //     //获取图片个数\n  //     this.imgLength = 0;\n  //     for(var i = 0; i < this.detailInfo.detailImage.length; i++){\n  //       this.imgLength += this.detailInfo.detailImage[i].list.length;\n  //     }\n  // }\n\n    // detailInfo() {\n    //   console.log(\"watch\");\n\t  //     // 获取图片的个数\n    //     this.imgLength = this.detailInfo.detailImage[0].list.length\n    //     console.log(this.imgLength);\n    //     immediate=true\n        \n    // },\n    'detailInfo': {\n      handler(newval, old) {\n      //  this.imgLength = this.detailInfo.detailImage[0].list.length\n        this.imgLength = 0;\n        for(var i = 0; i < this.detailInfo.detailImage.length; i++){\n          this.imgLength += this.detailInfo.detailImage[i].list.length;\n        }\n      },\n      immediate: true,\n      // deep: true\n    }\n\n  }\n}\n</script>\n\n<style scoped>\n\n  .goods-info {\n    padding: 20px 0;\n    border-bottom: 5px solid #f2f5f8;\n  }\n\n  .info-desc {\n    padding: 0 15px;\n  }\n\n  .info-desc .start, .info-desc .end {\n    width: 90px;\n    height: 1px;\n    background-color: #a3a3a5;\n    position: relative;\n  }\n\n  .info-desc .start {\n    float: left;\n  }\n\n  .info-desc .end {\n    float: right;\n  }\n\n  .info-desc .start::before, .info-desc .end::after {\n    content: \"\";\n    position: absolute;\n    width: 5px;\n    height: 5px;\n    background-color: #333;\n    bottom: 0;\n  }\n\n  .info-desc .end::after {\n    right: 0;\n  }\n\n  .info-desc .desc {\n    padding: 15px 0;\n    font-size: 14px;\n  }\n\n  .info-key {\n    margin: 10px 0 10px 15px;\n    color: #333;\n    font-size: 15px;\n  }\n\n  .info-list img{\n    width: 100%;\n  }\n</style>"]}]}